<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함께가게 - AI 상권분석 및 맞춤 정책 추천</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --dark-blue: #0D1B2A;
            --mid-blue: #1B263B;
            --light-blue: #4A90E2;
            --text-light: #E0E1DD;
            --text-muted: #94a3b8; /* slate-400 */
            --success: #27AE60;
            --warning: #F39C12;
            --danger: #E74C3C;
        }
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--dark-blue);
            color: var(--text-light);
            overflow-x: hidden;
        }

        /* --- Animation Base --- */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .animate-on-scroll.in-view {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* --- Marquee Animation --- */
        .marquee-content {
            display: flex;
            position: absolute;
            white-space: nowrap;
            will-change: transform;
            animation: marquee 30s linear infinite;
        }
        @keyframes marquee {
            0% { transform: translateX(0%); }
            100% { transform: translateX(-50%); }
        }

        /* --- General Styles --- */
        .glass-card {
            background: rgba(27, 38, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .cta-button {
            transition: all 0.3s ease;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(74, 144, 226, 0.3), 0 4px 6px -2px rgba(74, 144, 226, 0.2);
        }

        /* --- Detailed Report & Countdown Styles --- */
        .report-section { margin-bottom: 30px; }
        .report-section-title { font-size: 1.1em; font-weight: 700; text-align: left; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; color: var(--text-light); }
        .report-section-title i { color: var(--light-blue); }
        .growth-matrix { background: rgba(13, 27, 42, 0.7); padding: 20px; border-radius: 15px; text-align: center; }
        .growth-matrix .status { font-size: 1.4em; font-weight: 900; color: var(--warning); margin-bottom: 5px; }
        .growth-matrix .description { color: var(--text-muted); }
        .radar-chart-container { position: relative; width: 100%; max-width: 280px; margin: 0 auto; aspect-ratio: 1 / 1; }
        #radarChart { width: 100%; height: 100%; }
        .radar-legend { display: flex; justify-content: center; gap: 20px; margin-top: 15px; font-size: 0.8em; color: var(--text-muted); }
        .legend-item { display: flex; align-items: center; gap: 5px; }
        .legend-color { width: 12px; height: 12px; border-radius: 3px; }
        .factors-chart { display: flex; flex-direction: column; gap: 12px; text-align: left; }
        .factor-bar { display: flex; align-items: center; gap: 10px; }
        .factor-label { width: 100px; font-size: 0.9em; font-weight: 500; flex-shrink: 0; color: var(--text-light); }
        .factor-bar-bg { flex-grow: 1; background: rgba(13, 27, 42, 0.7); border-radius: 5px; height: 22px; overflow: hidden; }
        .factor-bar-fill {
            height: 100%; width: 0; border-radius: 5px; transition: width 1.5s ease-out; display: flex;
            align-items: center; justify-content: flex-end; padding-right: 8px; color: white;
            font-size: 0.8em; font-weight: 700;
        }
        .factor-bar-fill.positive { background-color: var(--success); }
        .factor-bar-fill.negative { background-color: var(--danger); }
        .ai-summary { background: rgba(74, 144, 226, 0.1); padding: 20px; border-radius: 15px; text-align: left; border: 1px solid rgba(74, 144, 226, 0.2); }
        .ai-summary .icon { font-size: 1.5em; color: var(--light-blue); margin-top: 3px; float: left; margin-right: 15px; }
        .ai-summary p { font-size: 0.95em; line-height: 1.7; overflow: hidden; color: var(--text-light); }
        .gemini-btn {
             background: none; border: 1px solid var(--light-blue); color: var(--light-blue);
             font-size: 0.8em; padding: 6px 12px; border-radius: 8px;
             font-weight: 700; cursor: pointer; transition: all 0.3s ease;
        }
        .gemini-btn:hover { background: var(--light-blue); color: var(--dark-blue); }
        .gemini-btn:disabled { opacity: 0.6; cursor: not-allowed; }

        .countdown { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 0 auto 40px auto; max-width: 340px; }
        .countdown-item {
            background: rgba(13, 27, 42, 0.7);
            padding: 15px 10px; border-radius: 12px;
        }
        .countdown-number { font-size: 2.5em; font-weight: 700; color: var(--text-light); }
        .countdown-label { font-size: 0.8em; color: var(--text-muted); margin-top: 2px; }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto max-w-lg p-6 space-y-20 md:space-y-24">

        <header class="text-center py-16 animate-on-scroll">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4 leading-tight">
                <span class="block">사장님의 가게,</span>
                <span class="block">
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300">데이터로 성공</span>을 예측하다
                </span>
            </h1>
            <p class="text-lg text-slate-300 opacity-90 mb-10">
                AI가 사장님 가게의 문제를 진단하고<br>꼭 맞는 정부 지원금을 찾아드려요.
            </p>
            <div class="grid grid-cols-3 gap-4 text-center">
                <div class="glass-card rounded-xl p-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mb-2 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                    <h4 class="font-bold text-sm">AI 상권분석</h4>
                </div>
                 <div class="glass-card rounded-xl p-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mb-2 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01" /></svg>
                    <h4 class="font-bold text-sm">맞춤 지원금</h4>
                </div>
                 <div class="glass-card rounded-xl p-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-auto mb-2 text-orange-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                    <h4 class="font-bold text-sm">실행 전략 제시</h4>
                </div>
            </div>
        </header>

        <main class="space-y-20 md:space-y-24">

            <section class="glass-card rounded-2xl p-8 text-center animate-on-scroll">
                <h2 class="text-2xl font-bold mb-3 leading-relaxed">사장님, 혹시 이런 고민 하고 계신가요?</h2>
                <div class="space-y-4 text-left my-6">
                    <div class="flex items-start space-x-3">
                        <svg class="w-6 h-6 text-blue-400 shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <p class="text-slate-300">매출은 자꾸 떨어지는데, <span class="font-semibold text-white">정확한 원인</span>을 몰라 답답해요.</p>
                    </div>
                    <div class="flex items-start space-x-3">
                         <svg class="w-6 h-6 text-blue-400 shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <p class="text-slate-300">정부 지원금이 많다던데, <span class="font-semibold text-white">나에게 맞는 정책</span>을 찾기가 너무 어려워요.</p>
                    </div>
                    <div class="flex items-start space-x-3">
                        <svg class="w-6 h-6 text-blue-400 shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <p class="text-slate-300">주변 상권은 어떻게 변하는지, <span class="font-semibold text-white">경쟁 가게</span>는 얼마나 늘었는지 감도 안 잡혀요.</p>
                    </div>
                </div>
                <p class="text-3xl font-extrabold text-blue-400 mb-2">이제 '함께가게' 하세요!</p>
                <p class="text-slate-300">사장님의 복잡한 고민, 저희가 데이터로 해결해 드릴게요.</p>
            </section>

            <section id="diagnosis-report" class="animate-on-scroll">
                <div class="text-center mb-6">
                    <span class="bg-blue-900/80 text-blue-300 text-sm font-semibold px-3 py-1 rounded-full">핵심 기능 1</span>
                    <h2 class="text-3xl font-extrabold mt-3 mb-2">AI 진단 리포트</h2>
                    <p class="text-slate-400">내 가게의 현재 상태를 데이터로 정확히 분석하고<br>나아갈 방향을 제시합니다.</p>
                </div>
                
                <div class="glass-card rounded-2xl p-6">
                    <div class="border-b border-slate-700/50 pb-4 mb-6">
                        <h3 class="text-lg font-bold">AI 진단 리포트 (2025년 3분기)</h3>
                        <p class="text-sm text-slate-400">카페 '오늘의 온도' (서울 성수동)</p>
                        <p class="text-xs text-slate-500 mt-1">* 상세 설명을 위한 가상의 가게 정보입니다.</p>
                    </div>

                    <div class="report-section">
                        <h4 class="report-section-title"><i class="fa-solid fa-chart-pie"></i>성장 매트릭스 분석</h4>
                        <div class="growth-matrix">
                            <div class="status">⚠️ 성장 정체 구간</div>
                            <p class="description">안정적인 매출 대비 수익성 개선이 필요한 시점입니다.</p>
                        </div>
                    </div>

                    <div class="report-section">
                        <h4 class="report-section-title"><i class="fa-solid fa-compass-drafting"></i>상권 건전성 지수</h4>
                        <div class="radar-chart-container">
                            <canvas id="radarChart"></canvas>
                        </div>
                        <div class="radar-legend">
                            <div class="legend-item"><span class="legend-color" style="background-color: rgba(74, 144, 226, 0.8);"></span>이번 분기</div>
                            <div class="legend-item text-slate-500"><span class="legend-color" style="background-color: #6b7280;"></span>지난 분기</div>
                        </div>
                    </div>

                    <div class="report-section">
                        <h4 class="report-section-title"><i class="fa-solid fa-arrow-right-arrow-left"></i>주요 변동 요인 분석</h4>
                        <div class="factors-chart">
                            <div class="factor-bar"><div class="factor-label">신규 고객 유입</div><div class="factor-bar-bg"><div class="factor-bar-fill positive" data-width="75" data-value="+15%"></div></div></div>
                            <div class="factor-bar"><div class="factor-label">재방문율</div><div class="factor-bar-bg"><div class="factor-bar-fill positive" data-width="60" data-value="+8%"></div></div></div>
                            <div class="factor-bar"><div class="factor-label">인근 경쟁강도</div><div class="factor-bar-bg"><div class="factor-bar-fill negative" data-width="80" data-value="-20%"></div></div></div>
                            <div class="factor-bar"><div class="factor-label">재료비 원가</div><div class="factor-bar-bg"><div class="factor-bar-fill negative" data-width="65" data-value="-12%"></div></div></div>
                        </div>
                    </div>

                    <div class="report-section">
                        <h4 class="report-section-title"><i class="fa-solid fa-robot"></i>AI 종합 진단</h4>
                        <div class="ai-summary">
                            <div class="icon"><i class="fa-solid fa-lightbulb"></i></div>
                            <p id="aiDiagnosisText">성수동의 높은 유동인구 덕에 <strong>신규 고객은 늘었지만, 주변 경쟁 심화와 원가 상승으로 수익성이 악화</strong>되고 있어요. 단골 고객 확보를 위한 마케팅과 운영비 절감을 위한 정부 지원이 필요해 보입니다.</p>
                        </div>
                        <div class="text-right mt-4">
                             <button id="regenerateDiagnosis" class="gemini-btn">✨ AI로 다시 진단받기</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="animate-on-scroll">
                <div class="text-center mb-6">
                    <span class="bg-blue-900/80 text-blue-300 text-sm font-semibold px-3 py-1 rounded-full">핵심 기능 2</span>
                    <h2 class="text-3xl font-extrabold mt-3 mb-2">AI 맞춤 정책 추천</h2>
                    <p class="text-slate-400">더 이상 놓치는 지원금 없도록!</p>
                </div>
                <div class="glass-card rounded-2xl p-6">
                     <h3 class="font-bold text-lg mb-4 text-white">사장님을 위한 맞춤 정책이에요</h3>
                     <div class="space-y-4">
                        <a href="https://xn--vb0b632bl2b83b87a393d6wc.kr/" target="_blank" rel="noopener noreferrer" class="block hover:scale-105 transition-transform duration-300">
                            <div class="bg-slate-800/50 p-4 rounded-lg flex items-center space-x-4">
                                <div class="bg-blue-500 text-white p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg></div>
                                <div>
                                    <h3 class="font-bold text-white">소상공인 전기요금 특별지원</h3>
                                    <p class="text-sm text-slate-400">에너지 비용 부담 완화, 마감 12일 전</p>
                                </div>
                            </div>
                        </a>
                        <a href="https://ols.semas.or.kr/" target="_blank" rel="noopener noreferrer" class="block hover:scale-105 transition-transform duration-300">
                            <div class="bg-slate-800/50 p-4 rounded-lg flex items-center space-x-4">
                                <div class="bg-green-500 text-white p-3 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01" /></svg></div>
                                <div>
                                    <h3 class="font-bold text-white">저금리 대환대출 프로그램</h3>
                                    <p class="text-sm text-slate-400">고금리 부담 경감, 상시 접수</p>
                                </div>
                            </div>
                        </a>
                     </div>
                     <p class="text-center text-sm text-slate-400 mt-6">
                        진단 결과에 따라 <span class="font-semibold text-slate-200">가장 유리한 정책만 골라</span><br>새 공고가 뜨면 카카오톡으로 바로 알려드려요.
                     </p>
                </div>
            </section>
            
            <section class="py-10 animate-on-scroll">
                <h3 class="text-center text-slate-400 font-semibold mb-6">모든 지원 정보를 한 곳에서</h3>
                <div class="relative w-full overflow-hidden h-10">
                    <div class="marquee-content">
                        <div class="text-slate-500 font-bold text-xl mx-8">소상공인24</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">기업마당</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">금융위원회</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">한국전력공사</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">신용보증기금</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">IBK기업은행</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">소상공인365</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">소상공인24</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">기업마당</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">금융위원회</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">한국전력공사</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">신용보증기금</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">IBK기업은행</div>
                        <div class="text-slate-500 font-bold text-xl mx-8">소상공인365</div>
                    </div>
                </div>
            </section>

            <section class="text-center p-8 bg-blue-900/50 rounded-2xl text-white animate-on-scroll border border-blue-800">
                <h2 class="text-3xl font-extrabold mb-2">지금 바로<br>성공의 기회를 잡으세요!</h2>
                <p class="text-sm text-slate-400 mb-4">출시일까지</p>
                <div class="countdown">
                    <div class="countdown-item"><div class="countdown-number" id="days">0</div><div class="countdown-label">일</div></div>
                    <div class="countdown-item"><div class="countdown-number" id="hours">0</div><div class="countdown-label">시간</div></div>
                    <div class="countdown-item"><div class="countdown-number" id="minutes">0</div><div class="countdown-label">분</div></div>
                    <div class="countdown-item"><div class="countdown-number" id="seconds">0</div><div class="countdown-label">초</div></div>
                </div>
                <p class="mb-8 opacity-80">
                    복잡한 고민은 저희에게 맡기시고,<br>사장님은 사업에만 집중하세요.
                </p>
                <a href="https://forms.gle/pXZiqrfdseMKmwpg6" target="_blank" rel="noopener noreferrer" class="cta-button inline-block bg-blue-500 text-white font-bold py-4 px-8 rounded-lg text-lg">
                    출시 알림 신청하기 <i class="fa-solid fa-rocket ml-2"></i>
                </a>
            </section>
        </main>

        <footer class="text-center py-6 text-slate-500 text-sm border-t border-slate-800 animate-on-scroll">
            &copy; 2025 함께가게. All Rights Reserved.
        </footer>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

    <script>
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('in-view');
                    
                    if (entry.target.id === 'diagnosis-report') {
                        createRadarChart();
                        animateFactorBars();
                    }
                    
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.25 });

        document.querySelectorAll('.animate-on-scroll').forEach(el => {
            observer.observe(el);
        });

        // --- Countdown Timer ---
        function startCountdown() {
            const launchDate = new Date();
            launchDate.setDate(launchDate.getDate() + 85);
            launchDate.setHours(launchDate.getHours() + 12);
            launchDate.setMinutes(launchDate.getMinutes() + 22);
            launchDate.setSeconds(launchDate.getSeconds() + 30);

            const timer = setInterval(() => {
                const now = new Date().getTime();
                const distance = launchDate.getTime() - now;
                
                if (distance < 0) {
                    clearInterval(timer);
                    document.getElementById('days').textContent = '0';
                    document.getElementById('hours').textContent = '0';
                    document.getElementById('minutes').textContent = '0';
                    document.getElementById('seconds').textContent = '0';
                    return;
                }
                document.getElementById('days').textContent = Math.floor(distance / (1000 * 60 * 60 * 24));
                document.getElementById('hours').textContent = String(Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2,'0');
                document.getElementById('minutes').textContent = String(Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))).padStart(2,'0');
                document.getElementById('seconds').textContent = String(Math.floor((distance % (1000 * 60)) / 1000)).padStart(2,'0');
            }, 1000);
        }
        startCountdown();

        // --- Chart Creation & Animation ---
        function createRadarChart() {
            const ctx = document.getElementById('radarChart');
            if (!ctx || Chart.getChart(ctx)) return; 
            const labels = ['수익성', '안정성', '성장성', '활동성', '생산성'];
            const thisQuarterData = [70, 60, 55, 80, 65];
            const lastQuarterData = [75, 65, 60, 70, 70];
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: labels,
                    datasets: [
                        { label: '이번 분기', data: thisQuarterData, backgroundColor: 'rgba(74, 144, 226, 0.4)', borderColor: 'rgba(74, 144, 226, 1)', borderWidth: 2, pointBackgroundColor: 'rgba(74, 144, 226, 1)', pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff', pointHoverBorderColor: 'rgba(74, 144, 226, 1)' },
                        { label: '지난 분기', data: lastQuarterData, backgroundColor: 'rgba(107, 114, 128, 0.4)', borderColor: 'rgba(107, 114, 128, 1)', borderWidth: 2, borderDash: [5, 5], pointBackgroundColor: 'rgba(107, 114, 128, 1)', pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff', pointHoverBorderColor: 'rgba(107, 114, 128, 1)' }
                    ]
                },
                options: {
                    animation: { duration: 1500, easing: 'easeOutQuart' },
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255, 255, 255, 0.2)' },
                            grid: { color: 'rgba(255, 255, 255, 0.2)' },
                            pointLabels: { font: { size: 12, weight: 'bold' }, color: '#E0E1DD' },
                            ticks: { display: false, stepSize: 25 },
                            min: 0, max: 100
                        }
                    },
                    plugins: { legend: { display: false } },
                    maintainAspectRatio: false
                }
            });
        }

        function animateFactorBars() {
            const bars = document.querySelectorAll('.factor-bar-fill');
            bars.forEach(bar => {
                const width = bar.dataset.width;
                const value = bar.dataset.value;
                setTimeout(() => {
                    bar.style.width = `${width}%`;
                    bar.textContent = value;
                }, 500);
            });
        }

        // --- AI Interaction Simulation ---
        async function callGeminiAPI(prompt) {
            console.log("Simulating Gemini API Call with prompt:", prompt);
            await new Promise(resolve => setTimeout(resolve, 1500));
            return "AI 재진단 결과입니다: <strong>재방문율을 높이는 것이 가장 시급한 과제</strong>로 보입니다. 신규 고객 유입은 긍정적이나, 이들을 단골로 전환하지 못하면 마케팅 비용만 소모될 수 있습니다. <strong>고객 관리(CRM) 시스템 도입</strong>이나 <strong>포인트 적립 제도 강화</strong>를 고려해 보세요.";
        }

        document.getElementById('regenerateDiagnosis').addEventListener('click', async (e) => {
            const btn = e.target.closest('button');
            const aiDiagnosisText = document.getElementById('aiDiagnosisText');
            
            btn.disabled = true;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> 다시 진단 중...';
            
            const prompt = `카페 '오늘의 온도' (서울 성수동)의 주요 변동 요인은 '신규 고객 유입 +15%, 재방문율 +8%, 인근 경쟁강도 -20%, 재료비 원가 -12%'입니다. 이 데이터를 기반으로 현재 상황을 다시 진단하고, 다른 관점의 해결책을 제시해주세요.`;
            const result = await callGeminiAPI(prompt);

            aiDiagnosisText.innerHTML = result;
            btn.disabled = false;
            btn.innerHTML = '✨ AI로 다시 진단받기';
        });
    </script>
</body>
</html>
